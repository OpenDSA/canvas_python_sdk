<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>canvas_sdk.methods.communication_channels &mdash; Canvas_SDK 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="Canvas_SDK 0.0.1 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Canvas_SDK 0.0.1 documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for canvas_sdk.methods.communication_channels</h1><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">canvas_sdk</span> <span class="kn">import</span> <span class="n">client</span><span class="p">,</span> <span class="n">utils</span>

<div class="viewcode-block" id="list_user_communication_channels"><a class="viewcode-back" href="../../../canvas_sdk.methods.communication_channels.html#canvas_sdk.methods.communication_channels.list_user_communication_channels">[docs]</a><span class="k">def</span> <span class="nf">list_user_communication_channels</span><span class="p">(</span><span class="n">request_ctx</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">per_page</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">request_kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of communication channels for the specified user, sorted by</span>
<span class="sd">    position.</span>

<span class="sd">        :param request_ctx: The request context</span>
<span class="sd">        :type request_ctx: :class:RequestContext</span>
<span class="sd">        :param user_id: (required) ID</span>
<span class="sd">        :type user_id: string</span>
<span class="sd">        :param per_page: (optional) Set how many results canvas should return, defaults to config.LIMIT_PER_PAGE</span>
<span class="sd">        :type per_page: integer or None</span>
<span class="sd">        :return: List user communication channels</span>
<span class="sd">        :rtype: requests.Response (with array data)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">per_page</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">per_page</span> <span class="o">=</span> <span class="n">request_ctx</span><span class="o">.</span><span class="n">per_page</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/v1/users/{user_id}/communication_channels&#39;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;per_page&#39;</span> <span class="p">:</span> <span class="n">per_page</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">request_ctx</span><span class="o">.</span><span class="n">base_api_url</span> <span class="o">+</span> <span class="n">path</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">request_ctx</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span>

</div>
<div class="viewcode-block" id="create_communication_channel"><a class="viewcode-back" href="../../../canvas_sdk.methods.communication_channels.html#canvas_sdk.methods.communication_channels.create_communication_channel">[docs]</a><span class="k">def</span> <span class="nf">create_communication_channel</span><span class="p">(</span><span class="n">request_ctx</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">communication_channel_address</span><span class="p">,</span> <span class="n">communication_channel_type</span><span class="p">,</span> <span class="n">skip_confirmation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">request_kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a new communication channel for the specified user.</span>

<span class="sd">        :param request_ctx: The request context</span>
<span class="sd">        :type request_ctx: :class:RequestContext</span>
<span class="sd">        :param user_id: (required) ID</span>
<span class="sd">        :type user_id: string</span>
<span class="sd">        :param communication_channel_address: (required) An email address or SMS number.</span>
<span class="sd">        :type communication_channel_address: string</span>
<span class="sd">        :param communication_channel_type: (required) The type of communication channel. In order to enable push notification support, the server must be properly configured (via sns.yml) to communicate with Amazon Simple Notification Services, and the developer key used to create the access token from this request must have an SNS ARN configured on it.</span>
<span class="sd">        :type communication_channel_type: string</span>
<span class="sd">        :param skip_confirmation: (optional) Only valid for site admins and account admins making requests; If true, the channel is automatically validated and no confirmation email or SMS is sent. Otherwise, the user must respond to a confirmation message to confirm the channel.</span>
<span class="sd">        :type skip_confirmation: boolean or None</span>
<span class="sd">        :return: Create a communication channel</span>
<span class="sd">        :rtype: requests.Response (with CommunicationChannel data)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">type_types</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;email&#39;</span><span class="p">,</span> <span class="s">&#39;sms&#39;</span><span class="p">,</span> <span class="s">&#39;push&#39;</span><span class="p">)</span>
    <span class="n">utils</span><span class="o">.</span><span class="n">validate_attr_is_acceptable</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">type_types</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/v1/users/{user_id}/communication_channels&#39;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;communication_channel[address]&#39;</span> <span class="p">:</span> <span class="n">communication_channel_address</span><span class="p">,</span>
        <span class="s">&#39;communication_channel[type]&#39;</span> <span class="p">:</span> <span class="n">communication_channel_type</span><span class="p">,</span>
        <span class="s">&#39;skip_confirmation&#39;</span> <span class="p">:</span> <span class="n">skip_confirmation</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">request_ctx</span><span class="o">.</span><span class="n">base_api_url</span> <span class="o">+</span> <span class="n">path</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">request_ctx</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span>

</div>
<div class="viewcode-block" id="delete_communication_channel_id"><a class="viewcode-back" href="../../../canvas_sdk.methods.communication_channels.html#canvas_sdk.methods.communication_channels.delete_communication_channel_id">[docs]</a><span class="k">def</span> <span class="nf">delete_communication_channel_id</span><span class="p">(</span><span class="n">request_ctx</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="o">**</span><span class="n">request_kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete an existing communication channel.</span>

<span class="sd">        :param request_ctx: The request context</span>
<span class="sd">        :type request_ctx: :class:RequestContext</span>
<span class="sd">        :param user_id: (required) ID</span>
<span class="sd">        :type user_id: string</span>
<span class="sd">        :param id: (required) ID</span>
<span class="sd">        :type id: string</span>
<span class="sd">        :return: Delete a communication channel</span>
<span class="sd">        :rtype: requests.Response (with CommunicationChannel data)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/v1/users/{user_id}/communication_channels/{id}&#39;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">request_ctx</span><span class="o">.</span><span class="n">base_api_url</span> <span class="o">+</span> <span class="n">path</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">request_ctx</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span>

</div>
<div class="viewcode-block" id="delete_communication_channel_type"><a class="viewcode-back" href="../../../canvas_sdk.methods.communication_channels.html#canvas_sdk.methods.communication_channels.delete_communication_channel_type">[docs]</a><span class="k">def</span> <span class="nf">delete_communication_channel_type</span><span class="p">(</span><span class="n">request_ctx</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="o">**</span><span class="n">request_kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete an existing communication channel.</span>

<span class="sd">        :param request_ctx: The request context</span>
<span class="sd">        :type request_ctx: :class:RequestContext</span>
<span class="sd">        :param user_id: (required) ID</span>
<span class="sd">        :type user_id: string</span>
<span class="sd">        :param type: (required) ID</span>
<span class="sd">        :type type: string</span>
<span class="sd">        :param address: (required) ID</span>
<span class="sd">        :type address: string</span>
<span class="sd">        :return: Delete a communication channel</span>
<span class="sd">        :rtype: requests.Response (with CommunicationChannel data)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/v1/users/{user_id}/communication_channels/{type}/{address}&#39;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">request_ctx</span><span class="o">.</span><span class="n">base_api_url</span> <span class="o">+</span> <span class="n">path</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">type</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="n">address</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">request_ctx</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span>
</pre></div></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Canvas_SDK 0.0.1 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Harvard.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>